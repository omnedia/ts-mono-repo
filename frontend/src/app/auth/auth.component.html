<div class="auth-wrapper">
  <div class="header">
    <div class="logo">
      <p>
        MY APP
      </p>
    </div>
  </div>

  <div class="body">
    @if (formView === 'login') {
      <h1>
        Welcome back
      </h1>

      <form [formGroup]="loginForm" class="form">
        <p *ngIf="errorMessage" class="error-message">{{ errorMessage }}</p>

        <div class="form-group">
          <input class="p-input" [class.invalid]="hasFormError('email')" type="text"
                 formControlName="email" placeholder="E-Mail"
                 required>
        </div>

        <div class="form-group">
          <input class="p-input" [class.invalid]="hasFormError('password')" type="password"
                 formControlName="password" placeholder="Password"
                 required>
        </div>

        <div class="form-group checkbox-group">
          <p-checkbox id="staySignedIn" type="checkbox"
                      formControlName="staySignedIn" [binary]="true"></p-checkbox>
          <label for="staySignedIn">Stay signed in</label>
        </div>

        <div class="form-view-switch">
          <p>
            Don't have an account?
          </p>
          <p class="text-button" (click)="switchFormView()" [class.disabled]="loading">
            Sign Up
          </p>
        </div>

        <button class="button" [disabled]="loading" (click)="login()">
          Login
          <p-progress-spinner *ngIf="loading"></p-progress-spinner>
        </button>
      </form>
    } @else {
      <h1>
        Create an Account
      </h1>

      <form [formGroup]="registerForm" class="form">
        <p *ngIf="errorMessage" class="error-message">{{ errorMessage }}</p>

        <div class="form-group">
          <input class="p-input" [class.invalid]="hasFormError('email')" type="text"
                 formControlName="email" placeholder="E-Mail"
                 required>
        </div>

        <div class="form-group">
          <input class="p-input" [class.invalid]="hasFormError('password')" type="password"
                 formControlName="password" placeholder="Password"
                 required>
        </div>

        <div class="form-group">
          <input class="p-input" [class.invalid]="hasFormError('passwordCheck')" type="password"
                 formControlName="passwordCheck" placeholder="Enter password again"
                 required>
        </div>

        <div class="form-view-switch">
          <p>
            Already have an account?
          </p>
          <p class="text-button" (click)="switchFormView()" [class.disabled]="loading">
            Sign In
          </p>
        </div>

        <button class="button" [disabled]="loading" (click)="register()">
          Create
          <p-progress-spinner *ngIf="loading"></p-progress-spinner>
        </button>
      </form>
    }

    <div class="legal">
      <a>
        Legal
      </a>
      <span class="divider"></span>
      <a>
        Privacy Policy
      </a>
    </div>
  </div>
</div>
